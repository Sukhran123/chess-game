(()=>{const e=(e,o,t)=>({getName:()=>e,getPoint:()=>o,getColour:()=>t}),o=(()=>{const e="/home/sukhran/chess-game/images/pawn.png",o=(e,o,t,l,a)=>{if(!0===l){let l=o+1;o%8==7||""===t[l]||t[l].getColour()!=e&&(a[l].style.backgroundColor="grey"),l=o-1,o%8==0||""===t[l]||t[l].getColour()!=e&&(a[l].style.backgroundColor="grey")}},t=(e,o,t,l,a)=>""!==t[o]&&(!0===l||t[o].getColour()===e),l=(e,o,t,l)=>""!==t[o]&&(t[o].getColour()===e||(t[o].getColour()!=e?(l[o].style.backgroundColor="grey",!0):void 0)),a=(e,l,a,n,r)=>{if("black"===e)if(n=l+8,l>=8&l<=15)for(i=1;i<=2&&(1===i&&o(e,n,r,!0,a),!0!==t(e,n,r,!0));i++)a[n].style.backgroundColor="grey",n+=8;else o(e,n,r,!0,a),!0===t(e,n,r,!0)||(a[n].style.backgroundColor="grey");else if("white"===e)if(n=l-8,l>=48&l<=55)for(i=1;i<=2&&(1===i&&o(e,n,r,!0,a),!0!==t(e,n,r,!0));i++)a[n].style.backgroundColor="grey",n-=8;else o(e,n,r,!0,a),!0===t(e,n,r,!0)||(a[n].style.backgroundColor="grey")},n=(e,o,l,a)=>{result=t(e,o,a,!1),1!=result&&(l[o].style.backgroundColor="grey")},r=(e,o,t,l,a)=>{let r=!0,i=!0,s=!0,g=!0;o>=56&o<=63&&(s=!1),o<=7&&(g=!1),o%8==7&&(r=!1),o%8==0&&(i=!1),!0===s&&(n(e,o+8,t,a),!0===r&&n(e,o+9,t,a),!0===i&&n(e,o+7,t,a)),!0===g&&(n(e,o-8,t,a),!0===i&&n(e,o-9,t,a),!0===r&&n(e,o-7,t,a)),!0===r&&n(e,o+1,t,a),!0===i&&n(e,o-1,t,a)},s=(e,o,t,a,n)=>{a=o;let r=!0;for(;!((a-=8)<0)&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey";for(a=o;!((a+=8)>63)&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey";a=o;let i=o+8,s=i%8;for(i-=s;(a+=1)!==i&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey";for(a=o,i=o-8,s=i%8,s=7-s,i+=s;(a-=1)!==i&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey"},g=(e,o,t,a,n)=>{let r=!0;for(a=o;!((a-=9)%8==0||a<0)&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey";for(a=o;!((a+=7)%8==0||a>63)&&(r=l(e,a,n,t),!0!==r);)t[a].style.backgroundColor="grey";for(a=o;!(a%8==7||a<8)&&(r=l(e,a-=7,n,t),!0!==r);)t[a].style.backgroundColor="grey";for(a=o;!(a%8==7||a>55)&&(r=l(e,a+=9,n,t),!0!==r);)t[a].style.backgroundColor="grey"},c=(e,o,t,l,a)=>{s(e,o,t,l,a),g(e,o,t,l,a)},h=(e,o,t,l,a)=>{s(e,o,t,l,a)},d=(e,o,t,l,a)=>{g(e,o,t,l,a)},m=(e,o,l,a,n)=>{let r=!1,i=!0,s=!0,g=!0,c=!0,h=!0,d=!0,m=!0,k=!0;o%8!=6&&o%8!=7||(s=!1,o%8==7&&(i=!1)),o<=15&&(d=!1,o<=7&&(h=!1)),o>=48&&(k=!1,o>=56&&(m=!1)),o%8!=0&&o%8!=1||(c=!1,o%8==0&&(g=!1)),!0===d&!0===g&&(r=t(e,a=o-17,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===d&!0===i&&(r=t(e,a=o-15,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===h&!0===c&&(r=t(e,a=o-10,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===m&!0===c&&(r=t(e,a=o+6,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===k&!0===g&&(r=t(e,a=o+15,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===k&!0===i&&(r=t(e,a=o+17,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===m&!0===s&&(r=t(e,a=o+10,n,!1),!1===r&&(l[a].style.backgroundColor="grey")),!0===h&!0===s&&(r=t(e,a=o-6,n,!1),!1===r&&(l[a].style.backgroundColor="grey"))};return{createImageElement:o=>{const t=document.createElement("img");return"blackPawn"===o?t.src=e:"blackKing"===o?t.src="/home/sukhran/chess-game/images/blackKing.png":"blackQueen"===o?t.src="/home/sukhran/chess-game/images/blackQueen.png":"blackRook"===o?t.src="/home/sukhran/chess-game/images/blackRook.png":"blackKnight"===o?t.src="/home/sukhran/chess-game/images/blackKnight.png":"blackBishop"===o?t.src=e:"whiteRook"===o?t.src="/home/sukhran/chess-game/images/whiteRook.png":"whiteKnight"===o?t.src="/home/sukhran/chess-game/images/whiteKnight.png":"whiteBishop"===o?t.src="/home/sukhran/chess-game/images/whiteBishop.png":"whiteKing"===o?t.src="/home/sukhran/chess-game/images/whiteKing.png":"whiteQueen"===o?t.src="/home/sukhran/chess-game/images/whiteQueen.png":"whitePawn"===o&&(t.src="/home/sukhran/chess-game/images/whitePawn.png"),t.setAttribute("height","40px"),t.setAttribute("width","40px"),t},showinAvailableMoves:(e,o,t,l,n)=>{"Pawn"===e?a(o,t,l,0,n):"Queen"===e?r(o,t,l,0,n):"King"===e?c(o,t,l,0,n):"Rook"===e?h(o,t,l,0,n):"Bishop"===e?d(o,t,l,0,n):"Knight"===e&&m(o,t,l,0,n)},showPawnMoves:a,checkSpaceIsHasPiece:t,checkPawnDiagonal:o,showKingMoves:c,move4Directional:s,moveDiagonal:g,showRookMoves:h,showBishopMoves:d,showKnightMoves:m,showAllMoves:(e,o,t,l)=>{a(e,o,t,0,l),r(e,o,t,0,l),c(e,o,t,0,l),h(e,o,t,0,l),d(e,o,t,0,l),m(e,o,t,0,l)}}})();(()=>{let t=Object.create(o),l=!1,a=69,n=!0,r=1;const s=document.querySelector("#container"),g=[],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h=()=>{let e=0;for(g[0].style.backgroundColor="brown",g[1].style.backgroundColor="white",i=2;i<=63;i++)e=i>7&i<16==1||i>23&i<32==1||i>39&i<48==1||i>55&i<64==1?1:0,i%2===e?g[i].style.backgroundColor="brown":g[i].style.backgroundColor="white"},d=()=>{const o=t.createImageElement("blackRook");g[0].appendChild(o);const l=t.createImageElement("blackRook");g[7].appendChild(l);let a=e("Rook",1,"black");c[0]=a,c[7]=a;const n=t.createImageElement("whiteRook");g[63].appendChild(n);const r=t.createImageElement("whiteRook");g[56].appendChild(r);let s=e("Rook",1,"white");c[56]=s,c[63]=s;const h=t.createImageElement("blackKnight");g[1].appendChild(h);const d=t.createImageElement("blackKnight");g[6].appendChild(d);let m=e("Knight",1,"black");c[1]=m,c[6]=m;const k=t.createImageElement("whiteKnight");g[62].appendChild(k);const u=t.createImageElement("whiteKnight");g[57].appendChild(u);let p=e("Knight",1,"white");c[57]=p,c[62]=p;const b=t.createImageElement("blackBishop");g[2].appendChild(b);const y=t.createImageElement("blackBishop");g[5].appendChild(y);let C=e("Bishop",1,"black");c[5]=C,c[2]=C;const w=t.createImageElement("whiteBishop");g[58].appendChild(w);const E=t.createImageElement("whiteBishop");g[61].appendChild(E);let I=e("Bishop",1,"white");c[58]=I,c[61]=I;const K=t.createImageElement("blackKing");g[3].appendChild(K);let f=e("King",1,"black");c[3]=f;const v=t.createImageElement("whiteKing");g[60].appendChild(v);let B=e("King",1,"white");c[60]=B;const P=t.createImageElement("blackQueen");g[4].appendChild(P);let R=e("Queen",1,"black");c[4]=R;const M=t.createImageElement("whiteQueen");g[59].appendChild(M);let Q=e("Queen",1,"white");for(c[59]=Q,i=8;i<=15;i++){const o=t.createImageElement("blackPawn");g[i].appendChild(o);let l=e("Pawn",1,"black");c[i]=l}for(i=48;i<=55;i++){const o=t.createImageElement("whitePawn");g[i].appendChild(o);let l=e("Pawn",1,"white");c[i]=l}},m=(e,o)=>{let l=c[e];c[e]="",c[o]=l,g[e].innerHTML="",g[o].innerHTML="";let a=c[o].getColour()+c[o].getName(),n=t.createImageElement(a);g[o].appendChild(n)},k=(e,o)=>{e.addEventListener("click",(()=>{a===o?(n=!1,h(),l=!1,a=69):(n=!0,!1===l?""===c[o]||(console.log("Hello"),(r%2==1&"white"===c[o].getColour()||r%2==0&"black"===c[o].getColour())&&(t.showinAvailableMoves(c[o].getName(),c[o].getColour(),o,g,c),l=!0,g[o].style.backgroundColor="blue")):!0===l&&(""!=c[o]&""!=c[a]&&c[o].getColour()===c[a].getColour()&&(n=!1),!0===n&&"grey"===g[o].style.backgroundColor&&(r+=1,m(a,o),n=!1),l=!1,h())),!0===n&&(a=o)}))},u=(e,o)=>{e.classList.add("square"),o%2==1?e.style.backgroundColor="brown":o%2==0&&(e.style.backgroundColor="white"),e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.width="60px",e.style.height="60px"};return{generateBoard:()=>{let e=0,o=0;for(i=1;i<=64;i++){o=i-1,e=i,(i>8&i<17==1||i>24&i<33==1||i>40&i<49==1||i>56&i<65==1)&&(e=i+1);let t=document.createElement("div");u(t,e),k(t,o),s.appendChild(t),g.push(t)}d()},squareStyle:u,addListener:k,addImage:d,resetColours:h,movePiece:m}})().generateBoard()})();